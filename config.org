#+TITLE: Emacs Config
#+AUTHOR: Willem Boshoff

* Package Manager

Manager first thing. to do is to get a proper package manager.
The best one I've seen is straight.

#+begin_src emacs-lisp
  (setq package-enable-at-startup nil)
  (defvar bootstrap-version)
  (let ((bootstrap-file
         (expand-file-name "straight/repos/straight.el/bootstrap.el" user-emacs-directory))
        (bootstrap-version 5))
    (unless (file-exists-p bootstrap-file)
      (with-current-buffer
          (url-retrieve-synchronously
           "https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"
           'silent 'inhibit-cookies)
        (goto-char (point-max))
        (eval-print-last-sexp)))
    (load bootstrap-file nil 'nomessage))
  (straight-use-package 'use-package)
  (cl-dolist (mode '(emacs-lisp-mode lisp-interaction-mode))
    (font-lock-add-keywords
     mode
     '(("(\\<\\(straight-use-package\\)\\>" 1 font-lock-keyword-face))))
  (setq straight-use-package-by-default 1)
#+end_src

* Evil mode

Modal editing is just better.

#+begin_src emacs-lisp
  (use-package evil
    :init
    (setq evil-want-C-u-scroll t
          evil-want-C-d-scroll t
          evil-want-Y-yank-to-eol t
          evil-undo-system 'undo-redo
          evil-want-fine-undo 'yes)
    :config
    (evil-set-leader 'normal (kbd "<SPC>"))
    (evil-define-key 'normal org-mode-map
      (kbd "TAB") 'org-cycle
      ">" 'org-shiftmetaright
      "<" 'org-shiftmetaleft)
    (evil-mode 1)
    )

  (use-package evil-surround
    :config
    (global-evil-surround-mode 1))

  (use-package evil-commentary
    :config
    (evil-commentary-mode))
#+end_src

* Org

#+begin_src emacs-lisp
  (setq org-src-preserve-indentation t)
#+end_src

* Text editing enhancements

** Comments

** Whitespace and Tabs

#+begin_src emacs-lisp
  ;; Use space to indent by default.
  (setq-default indent-tabs-mode nil)

  ;; Set appearance of a tab that is represented by 4 spaces.
  (setq-default tab-width 4)

  ;; Automatically clean whitespace
  (use-package ws-butler
    :hook ((text-mode . ws-butler-mode)
           (prog-mode . ws-butler-mode)))
#+end_src

** Parenthesis

#+begin_src emacs-lisp
  (show-paren-mode t)
  (setq show-paren-delay 0)
  (setq show-paren-style 'parenthesis)
  (electric-pair-mode t)
#+end_src
