#+TITLE: Emacs Config
#+AUTHOR: Willem Boshoff

* Software development

** Git Capabilities

Magit is an interface that gives you a lot of git functionality
and control over your repositories

#+begin_src emacs-lisp
  (use-package magit
    :defer
    )

  (use-package magit-todos)

  (use-package treemacs-magit
    :after treemacs)
#+end_src

Merge conflicts are real

#+begin_src emacs-lisp
  (use-package smerge-mode)

  (use-package ediff)
#+end_src

** LSP functionality

LSP provides intellisense, code actions, refactoring, etc.

#+begin_src emacs-lisp
  (use-package lsp-mode
    :custom
    (setq lsp-eldoc-render-all t)
    (setq lsp-rust-analyzer-server-display-inlay-hints t)
    :hook
    (lsp-deferred-mode . lsp-modeline-diagnostics-mode)
    (lsp-deferred-mode . lsp-modeline-code-actions-mode)
    (lsp-deferred-mode . lsp-lens-mode)
    (lsp-deferred-mode . lsp-semantic-tokens-mode)
    (lsp-deferred-mode . lsp-dired-mode)
    (lsp-deferred-mode . lsp-enable-which-key-integration)
    (before-save . lsp-format-buffer)
    (before-save . lsp-organize-imports)
    :commands (lsp lsp-deferred)
    )
#+end_src

** UI layer

This provides some GUI functionality on top of LSP.

#+begin_src emacs-lisp
  (use-package lsp-ui
    :init
    (setq lsp-ui-doc-enable t
	  lsp-ui-doc-position 'top
	  lsp-ui-doc-show-with-cursor t
	  lsp-ui-doc-show-with-mouse t
	  lsp-ui-sideline-enable nil
	  lsp-ui-sideline-show-code-actions t
	  lsp-ui-sideline-show-hover t
	  lsp-ui-sideline-show-diagnostics t)
    :commands (lsp-ui-mode)
    )
#+end_src

** Other LSP integrations

Lots of packages provides special/extended funtionality when LSP is available.

#+begin_src emacs-lisp
  ;; For Scala
  (use-package lsp-metals)
#+end_src
